{
  "version": 3,
  "sources": ["../../zudoku/src/lib/core/plugins.ts"],
  "sourcesContent": ["import { type ReactElement } from \"react\";\r\nimport { type RouteObject } from \"react-router-dom\";\r\nimport type { Sidebar } from \"../../config/validators/SidebarSchema.js\";\r\nimport { MdxComponentsType } from \"../util/MdxComponents.js\";\r\nimport { DevPortalContext, type ApiIdentity } from \"./DevPortalContext.js\";\r\n\r\nexport type DevPortalPlugin =\r\n  | CommonPlugin\r\n  | ProfileMenuPlugin\r\n  | NavigationPlugin\r\n  | ApiIdentityPlugin\r\n  | SearchProviderPlugin;\r\n\r\nexport interface NavigationPlugin {\r\n  getRoutes: () => RouteObject[];\r\n  getSidebar?: (path: string) => Promise<Sidebar>;\r\n}\r\n\r\nexport interface ApiIdentityPlugin {\r\n  getIdentities: (context: DevPortalContext) => Promise<ApiIdentity[]>;\r\n}\r\n\r\nexport interface SearchProviderPlugin {\r\n  renderSearch: (o: {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n  }) => React.JSX.Element | null;\r\n}\r\n\r\nexport interface ProfileMenuPlugin {\r\n  getProfileMenuItems: (context: DevPortalContext) => ProfileNavigationItem[];\r\n}\r\n\r\nexport type ProfileNavigationItem = {\r\n  label: string;\r\n  path?: string;\r\n  children?: ProfileNavigationItem[];\r\n};\r\n\r\nexport interface CommonPlugin {\r\n  initialize?: (\r\n    context: DevPortalContext,\r\n  ) => Promise<void | boolean> | void | boolean;\r\n  getHead?: () => ReactElement | undefined;\r\n  getMdxComponents?: () => MdxComponentsType;\r\n}\r\n\r\nexport const isProfileMenuPlugin = (\r\n  obj: DevPortalPlugin,\r\n): obj is ProfileMenuPlugin =>\r\n  \"getProfileMenuItems\" in obj && typeof obj.getProfileMenuItems === \"function\";\r\n\r\nexport const isNavigationPlugin = (\r\n  obj: DevPortalPlugin,\r\n): obj is NavigationPlugin =>\r\n  \"getRoutes\" in obj && typeof obj.getRoutes === \"function\";\r\n\r\nexport const isSearchPlugin = (\r\n  obj: DevPortalPlugin,\r\n): obj is SearchProviderPlugin =>\r\n  \"renderSearch\" in obj && typeof obj.renderSearch === \"function\";\r\n\r\nexport const needsInitialization = (\r\n  obj: DevPortalPlugin,\r\n): obj is CommonPlugin =>\r\n  \"initialize\" in obj && typeof obj.initialize === \"function\";\r\n\r\nexport const hasHead = (obj: DevPortalPlugin): obj is CommonPlugin =>\r\n  \"getHead\" in obj && typeof obj.getHead === \"function\";\r\n\r\nexport const isMdxProviderPlugin = (\r\n  obj: DevPortalPlugin,\r\n): obj is CommonPlugin =>\r\n  \"getMdxComponents\" in obj && typeof obj.getMdxComponents === \"function\";\r\n\r\nexport const isApiIdentityPlugin = (\r\n  obj: DevPortalPlugin,\r\n): obj is ApiIdentityPlugin =>\r\n  \"getIdentities\" in obj && typeof obj.getIdentities === \"function\";\r\n"],
  "mappings": ";;;AAoDO,IAAM,qBAAqB,CAChC,QAEA,eAAe,OAAO,OAAO,IAAI,cAAc;",
  "names": []
}
