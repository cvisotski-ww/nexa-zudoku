import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { XIcon } from "lucide-react";
import { useFieldArray } from "react-hook-form";
import { Button } from "../../../ui/Button.js";
import { Input } from "../../../ui/Input.js";
export const Headers = ({ control, register, }) => {
    const { fields, append, remove } = useFieldArray({
        control,
        name: "headers",
    });
    return (_jsxs("div", { className: "flex flex-col gap-2", children: [_jsx("table", { className: "w-full [&_td]:border [&_td]:p-1.5 [&_td]:px-2", children: _jsx("tbody", { children: fields.map((header, i) => (_jsxs("tr", { className: "group has-[:focus]:bg-muted/50 hover:bg-muted/50", children: [_jsx("td", { className: "flex gap-2 items-center", children: _jsx(Input, { ...register(`headers.${i}.name`), placeholder: "Name", className: "border-0 shadow-none text-xs font-mono", autoComplete: "off" }) }), _jsx("td", { children: _jsxs("div", { className: "flex items-center gap-2", children: [_jsx(Input, { placeholder: "Value", className: "border-0 shadow-none text-xs font-mono", ...register(`headers.${i}.value`), autoComplete: "off" }), _jsx(Button, { size: "icon", variant: "ghost", className: "text-muted-foreground opacity-0 group-hover:opacity-100", onClick: () => {
                                                remove(i);
                                            }, type: "button", children: _jsx(XIcon, { size: 16 }) })] }) })] }, header.id))) }) }), _jsx("div", { className: "text-end", children: _jsx(Button, { className: "", onClick: () => append({ name: "", value: "" }), type: "button", children: "Add header" }) })] }));
};
//# sourceMappingURL=Headers.js.map